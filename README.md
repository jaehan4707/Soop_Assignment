# 2025 SOOP Android ì‚¬ì „ ê³¼ì œ

```text
Github APIë¥¼ ì´ìš©í•œ ë ˆí¬ì§€í† ë¦¬, ìœ ì € ì¡°íšŒ ì• í”Œë¦¬ì¼€ì´ì…˜
```

## ğŸ—‚ï¸ í´ë” êµ¬ì¡°
```java
app
â”œâ”€â”€ ğŸ“data
â”‚   â”œâ”€â”€ ğŸ“di
â”‚   â”œâ”€â”€ ğŸ“local
â”‚   â”œâ”€â”€ ğŸ“network
â”‚   â”‚   â”œâ”€â”€ ğŸ“api
â”‚   â”‚   â”œâ”€â”€ ğŸ“error
â”‚   â”‚   â””â”€â”€ ğŸ“response
â”‚   â””â”€â”€ ğŸ“repositoryimpl
â”œâ”€â”€ ğŸ“domain
â”‚   â”œâ”€â”€ ğŸ“model
â”‚   â””â”€â”€ ğŸ“repository
â””â”€â”€ ğŸ“ui
â”‚    â”œâ”€â”€ ğŸ“componenet
â”‚    â”œâ”€â”€ ğŸ“navigation
â”‚    â”œâ”€â”€ ğŸ“screen
â”‚    â”‚   â”œâ”€â”€ ğŸ“detail
â”‚    â”‚   â””â”€â”€ ğŸ“home
â”‚    â”œâ”€â”€ ğŸ“theme
â”‚    â””â”€â”€ ğŸ“uti
â””â”€ ğŸ“test 
```

## ğŸ› ì£¼ìš” ê¸°ëŠ¥

|1ï¸âƒ£ ë ˆí¬ì§€í† ë¦¬ ê²€ìƒ‰|2ï¸âƒ£ ë ˆí¬ì§€í† ë¦¬ ìƒì„¸ ì •ë³´ ì¡°íšŒ|3ï¸âƒ£ ìœ ì € ì •ë³´ ì¡°íšŒ|
|:---:|:---:|:---:|
<img src="https://github.com/user-attachments/assets/958bebf4-0c3d-49fb-ba1f-85f63cc70eee" width=200 height=400/>|<img src="https://github.com/user-attachments/assets/a4ef9380-add6-4b0c-b0d6-c300e8c9cf47" width=200 height=400/>|<img src="https://github.com/user-attachments/assets/cc519258-cb8c-40ed-9374-9417fc75408d" width=200 height=400/>


### 1ï¸âƒ£ ë ˆí¬ì§€í† ë¦¬ ê²€ìƒ‰
- ì‚¬ìš©ìê°€ ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ë©´ ê´€ë ¨ëœ ë ˆí¬ì§€í† ë¦¬ ëª©ë¡ì´ ë¦¬ìŠ¤íŠ¸ í˜•íƒœë¡œ í‘œì‹œë©ë‹ˆë‹¤.
- ë°ì´í„°ì˜ ì–‘ì´ ë§ê¸° ë•Œë¬¸ì— í•œ ë²ˆì˜ í˜¸ì¶œë¡œ ëª¨ë“  ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒì´ ì–´ë ¤ì›Œ, `Paging3` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•˜ì—¬ í˜ì´ì§€ë‹¹ 30ê°œì˜ ë°ì´í„°ë¥¼ ë¡œë“œí•˜ê³ , í˜ì´ì§€ì˜ ë§ˆì§€ë§‰ ì•„ì´í…œì— ë„ë‹¬í•˜ë©´ ìë™ìœ¼ë¡œ í™”ë©´ì— ë°˜ì˜ë˜ë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
- ë¦¬ìŠ¤íŠ¸ì˜ ì•„ì´í…œì„ í´ë¦­í•œë‹¤ë©´ í•´ë‹¹ ë ˆí¬ì§€í† ë¦¬ì˜ ìƒì„¸í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.
- ê²€ìƒ‰ì˜ í¸ì˜ì„±ì„ ìœ„í•´, ê²€ìƒ‰ì–´ë¥¼ ì „ì²´ ì§€ìš¸ ìˆ˜ ìˆëŠ” x ë²„íŠ¼ ê¸°ëŠ¥ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.
- í‚¤ë³´ë“œì˜ ê²€ìƒ‰ ë²„íŠ¼ì„ ëˆ„ë¥´ê±°ë‚˜ í™”ë©´ì„ í´ë¦­í•˜ë©´ í¬ì»¤ìŠ¤ê°€ í•´ì œë˜ì–´ í‚¤ë³´ë“œê°€ í™”ë©´ì—ì„œ ì‚¬ë¼ì§‘ë‹ˆë‹¤.

### 2ï¸âƒ£ ë ˆí¬ì§€í† ë¦¬ ìƒì„¸ ì •ë³´ ì¡°íšŒ
- ë ˆí¬ì§€í† ë¦¬ì˜ ìƒì„¸ ì •ë³´(ë ˆí¬ì§€í† ë¦¬ ì´ë¦„,í† í”½,Star ê°œìˆ˜,Watchers ìˆ˜,Fork ìˆ˜,ìœ ì € ì´ë¯¸ì§€,ìœ ì € ì´ë¦„,ì„¤ëª…)ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- `FlowRow`ë¥¼ í™œìš©í•œ Topic êµ¬í˜„
  - ë ˆí¬ì§€í† ë¦¬ì˜ Topicì€ LazyRow ëŒ€ì‹  FlowRowë¥¼ ì‚¬ìš©í•´ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
  - `LazyRow`ë¥¼ ì‚¬ìš©í•  ê²½ìš°, í† í”½ì´ ë§ì•„ì§€ë©´ ê°€ë¡œë¡œë§Œ ì•„ì´í…œì´ ë°°ì¹˜ë˜ë©° ê°€ë¡œ ìŠ¤í¬ë¡¤ì„ í†µí•´ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.
  - `FlowRow`ëŠ” ë ˆì´ì•„ì›ƒì˜ ê°€ë¡œ ê³µê°„ì´ ë¶€ì¡±í•  ê²½ìš° ìë™ìœ¼ë¡œ ì¤„ ë°”ê¿ˆì„ ìˆ˜í–‰í•˜ì—¬ ì•„ì´í…œì„ ë°°ì¹˜í•©ë‹ˆë‹¤. ì´ëŠ” ìœ ë™ì ì¸ ê°œìˆ˜ì˜ ì•„ì´í…œì„ í‘œì‹œí•  ë•Œ íš¨ìœ¨ì ì…ë‹ˆë‹¤
- ìµœëŒ€ ë†’ì´ ë° ìŠ¤í¬ë¡¤ ì²˜ë¦¬
  - Topicì˜ ê°œìˆ˜ê°€ ë§ì•„ì§ˆ ê²½ìš° ë†’ì´ê°€ ê¸¸ì–´ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ìµœëŒ€ ë†’ì´ë¥¼ ì§€ì •í•˜ì—¬ ì´ë¥¼ ì œí•œí–ˆìŠµë‹ˆë‹¤. ìµœëŒ€ ë†’ì´ë¥¼ ì´ˆê³¼í•˜ë©´ ì„¸ë¡œ ìŠ¤í¬ë¡¤ì„ í†µí•´ ë‚˜ë¨¸ì§€ ì•„ì´í…œì„ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.
- í…ìŠ¤íŠ¸ ê¸¸ì´ì— ë”°ë¥¸ ì œí•œ
  - `FlowRow`ëŠ” ê° ì•„ì´í…œ í¬ê¸°ê°€ ìœ ë™ì ì´ë¯€ë¡œ, í…ìŠ¤íŠ¸ê°€ ê¸¸ ê²½ìš° ë ˆì´ì•„ì›ƒ í¬ê¸°ê°€ ê³¼ë„í•˜ê²Œ ì»¤ì§ˆ ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ í…ìŠ¤íŠ¸ì˜ ìµœëŒ€ ê¸¸ì´ë¥¼ ì œí•œí•˜ê³ , ì¼ì • ê¸¸ì´ë¥¼ ì´ˆê³¼í•˜ë©´ í…ìŠ¤íŠ¸ë¥¼ ì˜ë¼ í‘œì‹œí•˜ë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.


### 3ï¸âƒ£ ìœ ì € ì •ë³´ ì¡°íšŒ
- ìœ ì €ì˜ ì •ë³´(ìœ ì € ì´ë¯¸ì§€,ì´ë¦„,íŒ”ë¡œì›Œ ìˆ˜,íŒ”ë¡œì‰ ìˆ˜,ì–¸ì–´,ë ˆí¬ì§€í† ë¦¬ ìˆ˜,bio)ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ë ˆí¬ì§€í† ë¦¬ì˜ ì–¸ì–´ê°€ `nullable`ì´ê³ , ì¤‘ë³µì´ ë°œìƒí–ˆê¸°ì— `mapNotNull` ê³¼ `Set`ì„ ì‚¬ìš©í•´ì„œ ì¤‘ë³µì„ ì œê±°í–ˆìŠµë‹ˆë‹¤.

### 4ï¸âƒ£ ë‹¤í¬ ëª¨ë“œ ì§€ì›
- ì‹œìŠ¤í…œ í…Œë§ˆì— ë”°ë¼ ìë™ìœ¼ë¡œ ë¼ì´íŠ¸ ëª¨ë“œì™€ ë‹¤í¬ ëª¨ë“œë¥¼ ì§€ì›í•˜ê³  ìˆìŠµë‹ˆë‹¤.

## ğŸ’ªì„±ëŠ¥ ê°œì„ 

### â›”ï¸ìƒí™©
`more` ë²„íŠ¼ì„ ëˆ„ë¥¼ ê²½ìš° ë„¤íŠ¸ì›Œí¬ í˜¸ì¶œ(ì‚¬ìš©ì ì •ë³´ ë¡œë”©, ì‚¬ìš©ì ë ˆí¬ì§€í† ë¦¬ ëª©ë¡ ê²€ìƒ‰)ì´ ë°œìƒí•©ë‹ˆë‹¤.   
ì²˜ìŒì—ëŠ” í•´ë‹¹ í™”ë©´ì— ì§„ì…í•˜ëŠ” ì‹œì ì—ì„œ ëª¨ë“  ë„¤íŠ¸ì›Œí¬ í˜¸ì¶œì„ ì²˜ë¦¬í• ì§€ ê³ ë¯¼ì„ í–ˆì§€ë§Œ, `more` ë²„íŠ¼ì„ ëˆ„ë¥´ì§€ ì•ŠëŠ”ë‹¤ë©´ ë¶ˆí•„ìš”í•œ ë¹„ìš©ì´ ë°œìƒí–ˆê¸° ë•Œë¬¸ì— `more ë²„íŠ¼`ì„ ëˆ„ë¥¼ ë•Œë§Œ ë°ì´í„°ë¥¼ ë¡œë“œí•˜ë„ë¡ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.    
ê·¸ëŸ¬ë‚˜ `more` ë²„íŠ¼ì„ ë°˜ë³µì ìœ¼ë¡œ ëˆ„ë¥¼ ê²½ìš° **ë³€ê²½ëœ ë°ì´í„°ê°€ ì—†ë”ë¼ë„**, ì¶”ê°€ì ì¸ ë¦¬ì»´í¬ì§€ì…˜ê³¼ ë„¤íŠ¸ì›Œí¬ í˜¸ì¶œì´ ë°œìƒí•˜ëŠ” ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤.

![Image](https://github.com/user-attachments/assets/6e7a3aa2-559e-410d-8031-898eff8a4577)
ë„¤íŠ¸ì›Œí¬ í˜¸ì¶œê³¼ ê°™ì€ ë¹„ë™ê¸° í•¨ìˆ˜ê°€ ìì£¼ í˜¸ì¶œë˜ê³ , ë°ì´í„°ê°€ ìì£¼ ì—…ë°ì´íŠ¸ë˜ë©´ ë¶ˆí•„ìš”í•œ ë¦¬ì»´í¬ì§€ì…˜ì´ ìœ ë°œë  ê°€ëŠ¥ì„±ì´ ìˆì—ˆìŠµë‹ˆë‹¤.
![Image](https://github.com/user-attachments/assets/5334d011-c701-41cf-a2cf-6088915598a9)

### ğŸ”¨ê³¼ì œ

ê°™ì€ í™”ë©´ì—ì„œ ë°˜ë³µì ìœ¼ë¡œ `more` ë²„íŠ¼ì´ í´ë¦­ë˜ëŠ” ìƒí™©ì„ êµ¬ë¶„í•˜ê³ , ë¶ˆí•„ìš”í•œ ë„¤íŠ¸ì›Œí¬ í˜¸ì¶œì„ ë°©ì§€í•˜ë©° ë¦¬ì»´í¬ì§€ì…˜ì„ ìµœì†Œí™”í•´ì•¼ í–ˆìŠµë‹ˆë‹¤.

### ğŸ”‘í–‰ë™

#### ê¸°ì¡´ ì½”ë“œ
ê¸°ì¡´ ì½”ë“œëŠ” `more` ë²„íŠ¼ì´ í´ë¦­ë  ë•Œ ë§ˆë‹¤ `BottomSheet`ì˜ ì¶œë ¥ ìƒíƒœë¥¼ ë³€ê²½í•˜ê³  ë™ì‹œì— `getUserInfoAndRepositories(ë„¤íŠ¸ì›Œí¬ í˜¸ì¶œ)`ë¥¼ ì‹¤í–‰í–ˆìŠµë‹ˆë‹¤.
``` kotlin
var isOpenBottomSheet by remember { mutableStateOf(false) } // BottomSheet ìƒíƒœ
...
UserProfile(
    modifier = Modifier,
    userProfileImage = userProfileImage,
    userName = userName,
    onClickedMore = {
        isOpenBottomSheet = true // BottomSheet ìƒíƒœ ë³€ê²½
        getUserInfoAndRepositories(it) // ë„¤íŠ¸ì›Œí¬ í˜¸ì¶œ
    },
)
 
```
ë™ì¼í•œ `UserName` ê°’ìœ¼ë¡œ í˜¸ì¶œí•œë‹¤ë©´ ìœ ì˜ë¯¸í•œ ë°ì´í„° ì°¨ì´ê°€ ì—†ì„ê²ƒì´ë¼ê³  íŒë‹¨í•˜ì—¬, ë°ì´í„°ê°€ ì´ë¯¸ ë¡œë“œë˜ì—ˆëŠ”ì§€ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì¬í˜¸ì¶œ ì—¬ë¶€ë¥¼ ê²°ì •í•˜ë„ë¡ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤.


#### ìˆ˜ì •ëœ ì½”ë“œ
```kotlin
DetailScreen(
    //
    isLoaded : Boolean, // ë°ì´í„° ë¡œë“œ ì—¬ë¶€
)
if (isOpenBottomSheet && isLoaded.not()) { // BottomSheetê°€ ì—´ë ¤ìˆê³ , ë°ì´í„°ê°€ ë¡œë“œë˜ì§€ ì•Šì€ ìƒí™© 
  LaunchedEffect(userName) { //userName ë³€ê²½ì„ ê°ì§€
    getUserInfoAndRepositories(userName)
  }
}
```

`BottomSheet`ì—ì„œ ìœ ì € ì •ë³´ê°€ ì´ë¯¸ ë¡œë“œë˜ì—ˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ë‹¤ì‹œ í˜¸ì¶œí•  ì§€ ì—¬ë¶€ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.
ë§Œì•½ í™”ë©´ì˜ `UserName`ì´ ë³€ê²½ë˜ë©´, í•´ë‹¹ ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ìœ ì € ì •ë³´ì™€ ë ˆí¬ì§€í† ë¦¬ë¥¼ ë‹¤ì‹œ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤.
ì´ë¥¼ í†µí•´ ë¶ˆí•„ìš”í•œ ë°ì´í„° í˜¸ì¶œì„ ë°©ì§€í•˜ê³  í•„ìš”í•œ ê²½ìš°ì—ë§Œ ë°ì´í„°ë¥¼ ê°±ì‹ í•˜ë„ë¡ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.

### ğŸ”“ê²°ê³¼
![Image](https://github.com/user-attachments/assets/38dd4bb3-8931-49ed-8a51-5f8a97f7104b)
![Image](https://github.com/user-attachments/assets/8cde6b11-c298-4b77-9f85-3059b7ed2fc7)

ë°ì´í„°ê°€ ì´ë¯¸ ë¡œë“œë˜ì—ˆëŠ”ì§€ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë¡œì§ì„ êµ¬í˜„í•¨ìœ¼ë¡œì¨, ë™ì¼í•œ ë°ì´í„°ë¥¼ ë¡œë“œí•˜ë”ë¼ë„ ë„¤íŠ¸ì›Œí¬ í˜¸ì¶œì„ ìµœì†Œí™”í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ë˜í•œ, ë°ì´í„° ë¡œë“œ ì—¬ë¶€ë¥¼ ëª…í™•íˆ ê´€ë¦¬í•˜ì—¬ ë¶ˆí•„ìš”í•œ ë¦¬ì»´í¬ì§€ì…˜ì„ ìµœì†Œí™”í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì„±ëŠ¥ì„ ìµœì í™”í•˜ê³ , ì‚¬ìš©ì ê²½í—˜ì„ ë”ìš± í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤

## â€¼ï¸ì—ëŸ¬ ì²˜ë¦¬ ì„¸ë¶„í™”

### â›”ï¸ìƒí™©

![Image](https://github.com/user-attachments/assets/1e84bf60-d184-41aa-9ccc-a562641da7ae)

ê¸°ì¡´ì—ëŠ” API í˜¸ì¶œ ì‹¤íŒ¨ ì‹œ ë°˜í™˜ëœ ë©”ì‹œì§€ë¥¼ ê·¸ëŒ€ë¡œ Toastë¡œ ì¶œë ¥í–ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œëŠ” ê°œë°œìì¸ ì €ì´ˆìë„ ì–´ë–¤ ì—ëŸ¬ì¸ì§€ íŒë‹¨í•˜ê¸° ì–´ë ¤ì› ìŠµë‹ˆë‹¤.
ë”°ë¼ì„œ [github apiì— ì—ëŸ¬ ë¬¸ì„œ](https://docs.github.com/ko/enterprise-server@3.10/rest/using-the-rest-api/troubleshooting-the-rest-api?apiVersion=2022-11-28)ë¥¼ ì°¸ê³ í•˜ì—¬ ì—ëŸ¬ì˜ ì›ì¸ì„ íŒŒì•…í•˜ê³ , ì—ëŸ¬ ì²˜ë¦¬ë¥¼ ë³´ë‹¤ ì„¸ë¶„í™”í•˜ë ¤ê³  ì‹œë„í–ˆìŠµë‹ˆë‹¤.
íŠ¹íˆ, Github APIëŠ” ìš”ì²­ ì œí•œê³¼ ê°™ì€ íŠ¹ìˆ˜í•œ ìƒí™©ì—ì„œ ë°œìƒí•˜ëŠ” ì—ëŸ¬ë¥¼ ëª…í™•íˆ ì´í•´í•˜ê¸° ì–´ë ¤ì› ìŠµë‹ˆë‹¤. Toast ë©”ì‹œì§€ì™€ HTTP ë¡œê·¸ë§Œìœ¼ë¡œ ë¬¸ì œì˜ ì›ì¸ì„ íŒŒì•…í•˜ê¸° í˜ë“  ìƒí™©ì´ì—ˆìŠµë‹ˆë‹¤.

### ğŸ”¨ê³¼ì œ
ì—ëŸ¬ì˜ ì›ì¸ì„ ëª…í™•íˆ íŒŒì•…í•˜ê³ , ì‚¬ìš©ìì™€ ê°œë°œì ëª¨ë‘ê°€ ì´í•´í•˜ê¸° ì‰¬ìš´ ë°©ì‹ìœ¼ë¡œ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•´ì•¼ í–ˆìŠµë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ Github APIì˜ ì—ëŸ¬ ë¬¸ì„œë¥¼ ì°¸ê³ í•˜ì—¬ ì—ëŸ¬ë¥¼ ì„¸ë¶„í™”í•˜ê³ , ìƒí™©ì— ë§ëŠ” ì ì ˆí•œ ë©”ì‹œì§€ë¥¼ ì œê³µí•˜ëŠ” ë¡œì§ì„ êµ¬í˜„í•´ì•¼ í–ˆìŠµë‹ˆë‹¤.

### ğŸ”‘í–‰ë™

ê¸°ì¡´ì˜ ì—ëŸ¬ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.
```kotlin
sealed class ApiResponse<out T> {
    data class Success<out T>(val data: T) : ApiResponse<T>()
    sealed class Error(val errorCode: Int? = null, val errorMessage: String = "") :
        ApiResponse<Nothing>() {
        data class ServerError(val code: Int, val message: String) : Error(code, message)
        data class NetworkError(val message: String) : Error(errorMessage = message)
        data class UnknownError(val message: String) : Error(errorMessage = message)
    }
}

suspend fun <T> safeApiCall(
  apiCall: suspend () -> Response<T>,
  default: T,
): ApiResponse<T> {
  return runCatching {
    val response = apiCall()
    if (response.isSuccessful) {
      ApiResponse.Success(data = response.body() ?: default)
    } else {
      val errorMessage = response.errorBody()?.string() ?: "Unknown error"
      if (errorMessage == "Unknown error") {
        ApiResponse.Error.UnknownError(errorMessage)
      } else {
        ApiResponse.Error.ServerError(response.code(), errorMessage)
      }
    }
  }.getOrElse {
    ApiResponse.Error.NetworkError(it.message ?: "Network error")
  }
}

```
ê¸°ì¡´ì˜ ì—ëŸ¬ í´ë˜ìŠ¤ëŠ” `Server`, `Network`, `Unknown`ì™€ ê°™ì´ ì¶”ìƒì ì¸ ê°œë…ì´ì—ˆìŠµë‹ˆë‹¤.
ì—ëŸ¬ ë©”ì‹œì§€ë„ ì •í•´ì§€ì§€ ì•Šê³ , ì„œë²„ì—ì„œ ë°›ì€ ë©”ì‹œì§€ ê·¸ëŒ€ë¡œ ì²˜ë¦¬í–ˆìŠµë‹ˆë‹¤.

ì´ë¥¼ ê°œì„ í•˜ê¸° ìœ„í•´ ìš°ì„  ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ìƒìˆ˜í™”í–ˆìŠµë‹ˆë‹¤.
```kotlin
object ErrorMessages {
    const val SERVER_ERROR_MESSAGE = "ì„œë²„ì—ì„œ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. \në‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”."
    const val FORBIDDEN_ERROR_MESSAGE = "ì ‘ê·¼ì´ ê¸ˆì§€ë˜ì—ˆìŠµë‹ˆë‹¤. \nì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”."
    const val TOO_MANY_REQUESTS_ERROR_MESSAGE = "ìš”ì²­ì´ ë„ˆë¬´ ë§ìŠµë‹ˆë‹¤. \n ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”."
    const val UNKNOWN_ERROR_MESSAGE = "ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤."
}
```
- ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ìƒìˆ˜ë¡œ ì •ì˜ í•´ ì½”ë“œì˜ ì¤‘ë³µì„ ì¤„ì´ê³ , ë©”ì‹œì§€ë¥¼ ì¼ê´€ë˜ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤.
- ê° ìƒí™©ì— ë§ëŠ” ë©”ì‹œì§€ë¥¼ ì œê³µí•˜ì—¬ ì‚¬ìš©ì ê²½í—˜ì„ ê°œì„ í•˜ê³ ì í–ˆìŠµë‹ˆë‹¤.

#### ì—ëŸ¬ íƒ€ì… ì„¸ë¶„í™”
```kotlin
data class ServerError(
        val code: Int,
        val message: String = ErrorMessages.SERVER_ERROR_MESSAGE
    ) : Error(code, message)

data class ForbiddenError(val message: String = ErrorMessages.FORBIDDEN_ERROR_MESSAGE) :
    Error(errorCode = 403, errorMessage = message)

data class TooManyRequestError(val message: String = ErrorMessages.TOO_MANY_REQUESTS_ERROR_MESSAGE) :
    Error(errorCode = 429, errorMessage = message)

data class UnknownError(val message: String = ErrorMessages.UNKNOWN_ERROR_MESSAGE) :
    Error(errorMessage = message)
```
- `ServerError`, `ForbiddenError`, `TooManyRequestError`, `UnknownError` ë“± ì—ëŸ¬ íƒ€ì…ì„ êµ¬ì²´ì ìœ¼ë¡œ ë¶„ë¥˜í–ˆìŠµë‹ˆë‹¤.
- ê° ì—ëŸ¬ íƒ€ì…ì€ ìƒíƒœ ì½”ë“œì™€ ê¸°ë³¸ ë©”ì‹œì§€ë¥¼ í¬í•¨í•˜ë„ë¡ í•´ ì—ëŸ¬ ìƒí™©ì„ ëª…í™•í•˜ê²Œ êµ¬ë¶„í•  ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤.

#### ë©”ì„œë“œë¥¼ í†µí•œ ì—ëŸ¬ ìƒì„±
```kotlin
companion object {
    fun fromCode(code: Int, message: String = ""): Error {
        return when (code) {
            403 -> ForbiddenError()
            429 -> TooManyRequestError()
            else -> ServerError(code, message)
        }
    }
}
```
- HTTP ìƒíƒœ ì½”ë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì ì ˆí•œ ì—ëŸ¬ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” `fromCode` ë©”ì„œë“œë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.
- ì´ë¥¼ í†µí•´ ì„œë²„ì—ì„œ ë°˜í™˜ëœ ìƒíƒœ ì½”ë“œì— ë”°ë¼ ì í•©í•œ ì—ëŸ¬ íƒ€ì…ì„ ë™ì ìœ¼ë¡œ ìƒì„±í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

### ğŸ”“ê²°ê³¼
![Image](https://github.com/user-attachments/assets/2693d82f-14eb-4a0e-9367-da69d080e76c)

ê·¸ ê²°ê³¼, ì„œë²„ ì—ëŸ¬, ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬, ìš”ì²­ ì œí•œ ë“±ì„ êµ¬ì²´ì ìœ¼ë¡œ ë¶„ë¥˜í•´ ìƒí™©ë³„ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•´ì¡ŒìŠµë‹ˆë‹¤.
ëª¨ë“  ì—ëŸ¬ ì²˜ë¦¬ê°€ fromCode ë©”ì„œë“œë¡œ í†µí•©ë˜ì–´ ì¤‘ë³µ ì½”ë“œë¥¼ ì œê±°í–ˆìœ¼ë©°, ìƒˆë¡œìš´ ì—ëŸ¬ íƒ€ì…ì˜ ì¶”ê°€ ì‹œì—ë„ ì‰½ê²Œ í™•ì¥í•  ìˆ˜ ìˆëŠ” êµ¬ì¡°ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤. 



### ğŸš¥ í…ŒìŠ¤íŠ¸ ì½”ë“œ
![image](https://github.com/user-attachments/assets/bece2e39-e794-40bd-ba55-0f009a1e4e26)![image](https://github.com/user-attachments/assets/455eda0c-b85d-4c81-a7e4-8f38d662cd96)
- DetailViewModelì˜ ê¸°ëŠ¥ì„ ê²€ì¦í•˜ëŠ” Unit Test ì½”ë“œë¥¼ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.
  - ìœ ì € ë ˆí¬ì§€í† ë¦¬ ëª©ë¡ ì¡°íšŒ ê²€ì¦
  - ìœ ì € ìƒì„¸ ì •ë³´ ì¡°íšŒ ê²€ì¦
- Mockkì„ í™œìš©í•˜ì—¬ ì™¸ë¶€ API í˜¸ì¶œ(Repository Method) ì˜ì¡´ ì—†ì´ ViewModelì˜ ë™ì‘ì„ ì œì–´ëœ í™˜ê²½ì—ì„œ ê²€ì¦í•˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤.
```kotlin
package com.jaehan.soop

import androidx.lifecycle.SavedStateHandle
import app.cash.turbine.test
import com.jaehan.soop.domain.model.ApiResponse
import com.jaehan.soop.domain.model.Repo
import com.jaehan.soop.domain.model.User
import com.jaehan.soop.domain.repository.RepoRepository
import com.jaehan.soop.domain.repository.UserRepository
import com.jaehan.soop.ui.screen.detail.DetailViewModel
import io.mockk.coEvery
import io.mockk.mockk
import junit.framework.TestCase.assertEquals
import junit.framework.TestCase.assertFalse
import kotlinx.coroutines.Dispatchers
import kotlinx.coroutines.flow.flowOf
import kotlinx.coroutines.test.resetMain
import kotlinx.coroutines.test.runTest
import kotlinx.coroutines.test.setMain
import org.junit.After
import org.junit.Before
import org.junit.Test

class DetailViewModelTest {
  private lateinit var viewModel: DetailViewModel
  private lateinit var savedStateHandle: SavedStateHandle
  private val repoRepository: RepoRepository = mockk()
  private val userRepository: UserRepository = mockk()

  private val fakeRepo = Repo(
    repositoryName = "jaehanRepo",
    userName = "jaehan4707",
    starCount = 100,
    watchers = 50,
    forks = 10,
    description = "Description",
    userProfileImage = "profileImageUrl",
    topics = listOf("topic1", "topic2")
  )

  private val fakeUser = User(
    userName = "jaehan4707",
    followers = 100,
    following = 50,
    repositoryCount = 10,
    bio = "Bio",
    userProfileImage = "profileImageUrl"
  )

  @Before
  fun setUp() {
    savedStateHandle =
      SavedStateHandle(mapOf("owner" to "jaehan4707", "repositoryName" to "jaehanRepo"))
    Dispatchers.setMain(Dispatchers.Unconfined)
  }

  @After
  fun finish() {
    Dispatchers.resetMain()
  }

  @Test
  fun `ì‚¬ìš©ìì˜ ë ˆí¬ì§€í† ë¦¬ ì •ë³´ë¥¼ ì¡°íšŒí•  ìˆ˜ ì‡ë‹¤`() = runTest {
    // given
    coEvery {
      repoRepository.getRepositoryInfo(
        owner = fakeRepo.userName,
        repositoryName = fakeRepo.repositoryName,
      )
    } returns flowOf(ApiResponse.Success(data = fakeRepo))
    viewModel = DetailViewModel(repoRepository, userRepository, savedStateHandle)

    //when
    viewModel.getRepositoryInfo(
      owner = fakeRepo.userName,
      repositoryName = fakeRepo.repositoryName
    )

    //then
    viewModel.uiState.test {
      val state = awaitItem()
      assertFalse(state.isLoading)
      assertEquals(fakeRepo.userName, state.userName)
      assertEquals(fakeRepo.repositoryName, state.repositoryName)
      assertEquals(fakeRepo.starCount, state.starCount)
      assertEquals(fakeRepo.watchers, state.watchers)
      assertEquals(fakeRepo.forks, state.forks)
      assertEquals(fakeRepo.description, state.description)
      assertEquals(fakeRepo.userProfileImage, state.userProfileImage)
      assertEquals(fakeRepo.topics, state.topics)
    }
  }

  @Test
  fun `ì‚¬ìš©ìì˜ ìƒì„¸ ì •ë³´ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤`() = runTest {
    //given
    val languages = listOf("kotlin", "java")
    coEvery { userRepository.getUserInfo(fakeUser.userName) } returns flowOf(
      ApiResponse.Success(fakeUser)
    )
    coEvery { userRepository.getUserRepositories(fakeUser.userName) } returns flowOf(
      ApiResponse.Success(languages)
    )

    coEvery {
      repoRepository.getRepositoryInfo(
        fakeRepo.userName,
        fakeRepo.repositoryName
      )
    } returns flowOf()
    viewModel = DetailViewModel(repoRepository, userRepository, savedStateHandle)

    //when
    viewModel.getUserInfoAndRepositories(fakeUser.userName)

    //then
    viewModel.bottomDetailUiState.test {
      val state = awaitItem()
      assertFalse(state.isLoading)
      assertEquals(fakeUser.followers, state.followers)
      assertEquals(fakeUser.following, state.following)
      assertEquals(fakeUser.repositoryCount, state.repositoryCount)
      assertEquals(fakeUser.bio, state.bio)
      assertEquals(fakeUser.userName, state.userName)
      assertEquals(fakeUser.userProfileImage, state.userProfileImage)
      assertEquals(languages, state.language)
    }
  }
}
```



## ğŸ“šê¸°ìˆ  ìŠ¤íƒ

##### Architecture
- ![MVVM](https://img.shields.io/badge/MVVM-4CAF50?style=flat-square&logo=android&logoColor=white)
##### Android
- ![Compose](https://img.shields.io/badge/Compose-4285F4?style=flat-square&logo=Jetpack-Compose&logoColor=white) ![Jetpack Navigation](https://img.shields.io/badge/Jetpack%20Navigation-3F51B5?style=flat-square&logo=android&logoColor=white) ![Paging](https://img.shields.io/badge/Paging3-3F5A55?style=flat-square&logo=android&logoColor=white)  ![Glide](https://img.shields.io/badge/Glide-AF51B5?style=flat-square&logo=android&logoColor=white)
##### asynchronous
- ![Coroutine](https://img.shields.io/badge/Coroutine-0095D5?style=flat-square&logo=kotlin&logoColor=white)
##### Network
- ![Retrofit](https://img.shields.io/badge/Retrofit-FF6B6B?style=flat-square&logo=android&logoColor=white) ![OkHttp](https://img.shields.io/badge/OkHttp-4CAF50?style=flat-square&logo=square&logoColor=white)
##### DI
- ![Hilt](https://img.shields.io/badge/Hilt-FF6F00?style=flat-square&logo=android&logoColor=white)
##### Test
- ![Junit](https://img.shields.io/badge/Junit4-25A162?style=flat-square&logo=junit5&logoColor=white)


### âš™ï¸ê°œë°œ í™˜ê²½

- language : Kotlin
- minSdk : 26
- targetSdk : 34
- compileSdk : 34

